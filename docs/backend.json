{
  "entities": {
    "Customer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Customer",
      "type": "object",
      "description": "Represents a customer of the salon.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the customer." },
        "firstName": { "type": "string", "description": "The first name of the customer." },
        "lastName": { "type": "string", "description": "The last name of the customer." },
        "email": { "type": "string", "format": "email", "description": "The email address of the customer." },
        "phone": { "type": "string", "description": "The phone number of the customer." }
      },
      "required": ["id", "firstName", "lastName", "email"]
    },
    "Stylist": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Stylist",
      "type": "object",
      "description": "Represents a stylist at the salon.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the stylist." },
        "name": { "type": "string", "description": "The name of the stylist." },
        "avatarUrl": { "type": "string", "format": "uri", "description": "URL of the stylist's avatar image." },
        "availability": {
          "type": "object",
          "description": "Weekly availability of the stylist.",
          "properties": {
            "monday": { "$ref": "#/entities/AvailabilityDay" },
            "tuesday": { "$ref": "#/entities/AvailabilityDay" },
            "wednesday": { "$ref": "#/entities/AvailabilityDay" },
            "thursday": { "$ref": "#/entities/AvailabilityDay" },
            "friday": { "$ref": "#/entities/AvailabilityDay" },
            "saturday": { "$ref": "#/entities/AvailabilityDay" },
            "sunday": { "$ref": "#/entities/AvailabilityDay" }
          }
        }
      },
      "required": ["id", "name", "availability"]
    },
    "AvailabilityDay": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Availability Day",
      "type": "array",
      "description": "Represents the available time slots for a single day.",
      "items": {
        "type": "object",
        "properties": {
          "start": { "type": "string", "format": "time", "description": "Start time of the slot (HH:mm)." },
          "end": { "type": "string", "format": "time", "description": "End time of the slot (HH:mm)." }
        },
        "required": ["start", "end"]
      }
    },
    "Service": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Service",
      "type": "object",
      "description": "Represents a service offered by the salon.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the service." },
        "name": { "type": "string", "description": "The name of the service." },
        "description": { "type": "string", "description": "A description of the service." },
        "price": { "type": "number", "description": "The price of the service." },
        "duration": { "type": "number", "description": "The duration of the service in minutes." }
      },
      "required": ["id", "name", "price", "duration"]
    },
    "Appointment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Appointment",
      "type": "object",
      "description": "Represents a scheduled appointment.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the appointment." },
        "customerName": { "type": "string", "description": "The name of the customer who booked the appointment." },
        "customerId": { "type": "string", "description": "Reference to the Customer who booked the appointment." },
        "stylistId": { "type": "string", "description": "Reference to the Stylist assigned to the appointment." },
        "serviceId": { "type": "string", "description": "Reference to the Service for the appointment." },
        "start": { "type": "string", "format": "date-time", "description": "Start time of the appointment." },
        "end": { "type": "string", "format": "date-time", "description": "End time of the appointment." },
        "status": { "type": "string", "enum": ["scheduled", "confirmed", "cancelled"], "description": "The status of the appointment." }
      },
      "required": ["id", "customerName", "customerId", "stylistId", "serviceId", "start", "end", "status"]
    },
    "GalleryImage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Gallery Image",
      "type": "object",
      "description": "Represents an image in the salon's gallery.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the image." },
        "src": { "type": "string", "format": "uri", "description": "URL of the image." },
        "alt": { "type": "string", "description": "Alternative text for the image." },
        "hint": { "type": "string", "description": "A hint for AI image search." }
      },
      "required": ["id", "src", "alt"]
    },
    "AdminRole": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Admin Role",
      "type": "object",
      "description": "A document indicating a user has admin privileges. The document ID is the user's UID.",
      "properties": {}
    }
  },
  "auth": {
    "providers": ["password", "anonymous"]
  },
  "firestore": {
    "/customers/{customerId}": {
      "schema": { "$ref": "#/entities/Customer" },
      "description": "Stores public profiles for customers."
    },
    "/customers/{customerId}/appointments/{appointmentId}": {
        "schema": { "$ref": "#/entities/Appointment" },
        "description": "Stores appointments for a specific customer."
    },
    "/stylists/{stylistId}": {
      "schema": { "$ref": "#/entities/Stylist" },
      "description": "Stores public profiles for stylists, including their availability."
    },
    "/stylists/{stylistId}/appointments/{appointmentId}": {
        "schema": { "$ref": "#/entities/Appointment" },
        "description": "A collection for viewing appointments assigned to a specific stylist."
    },
    "/services/{serviceId}": {
      "schema": { "$ref": "#/entities/Service" },
      "description": "Stores all services offered by the salon. Publicly readable."
    },
    "/gallery/{galleryId}": {
      "schema": { "$ref": "#/entities/GalleryImage" },
      "description": "Stores all images for the gallery. Publicly readable."
    },
    "/admin_appointments/{appointmentId}": {
      "schema": { "$ref": "#/entities/Appointment" },
      "description": "A centralized collection of all appointments for easy admin access and querying."
    },
    "/roles_admin/{userId}": {
      "schema": { "$ref": "#/entities/AdminRole" },
      "description": "A private collection to manage admin roles. Document ID is the user UID. Only other admins can manage roles."
    }
  }
}
